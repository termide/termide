# Общее устройство окна приложения

**Приложение занимает всё доступное место и имеет вертикальное разделение на элементы:**
- Строка меню
- Область панелей инструментов
- Статусная строка

Также приложение использует всплывающие окна:
- Помощь
- Настройки
- Подтверждение закрытия приложения

## Модальные окна

Приложение использует интерактивные модальные окна для различных операций:
- **Модал поиска** (`Ctrl+F`) - Интерактивный поиск с живым предпросмотром, счётчиком совпадений и кнопками навигации
- **Модал замены** (`Ctrl+H`) - Интерактивная замена с двумя полями ввода, живым поиском и кнопками действий
- **Модалы ввода** - Различные запросы для файловых операций (создание, переименование и т.д.)
- **Диалоги подтверждения** - Подтверждение удаления, несохранённых изменений и т.д.

**Возможности модалов:**
- Кнопка `[X]` для закрытия в заголовке модала (нажимается мышью)
- Навигация с клавиатуры через Tab/Shift+Tab
- Поддержка мыши для всех кнопок
- Клавиша Escape для закрытия модала
- Живой предпросмотр для операций поиска/замены
- Сохранение состояния (последний введённый текст сохраняется)

## Строка меню

Строка меню располагается вверху окна и включает: пункты меню расположенные слева, подсказку по активации меню, индикаторы системных ресурсов (CPU, RAM) и часы в формате ЧЧ:ММ расположенные справа.
Активация и деактивация меню, а также каждого пункта может производиться кликом мыши либо [клавиатурной комбинацией](#Клавиатурная-навигация-и-управление-по-меню-и-панелям).

**Пункты меню:**
- `Файлы` открывает панель с файловым менеджером
- `Терминал` открывает панель с терминалом
- `Редактор` открывает панель с редактором нового файла
- `Отладка` открывает панель отладки
- `Настройки` открывает файл конфигурации в редакторе
- `Помощь` открывает окно помощи
- `Выход` завершает работу программы

**Индикаторы системных ресурсов:**
- `CPU` - процент использования процессора с цветовой кодировкой (зеленый < 50%, желтый 50-75%, красный > 75%)
- `RAM` - использование оперативной памяти в формате ГБ/МБ с цветовой кодировкой в зависимости от уровня использования

## Область панелей инструментов

Область заполняет вертикальное пространство между строкой меню и статусной строкой от левого до правого края окна.
Область всегда содержит незакрываемую панель файлового менеджера слева, а на оставшейся справа части располагаются другие открываемые панели, а при их отсутствии панель просмотра справки по приложению.

**Возможные варианты открываемых панелей:**
- [файловый менеджер](file-manager.md)
- [терминал](terminal.md)
- [текстовый редактор](editor.md)

**Особенности закрываемых панелей:**
- Имеют кнопку `[X]` для закрытия в заголовке панели (нажимается мышью)
- Могут быть закрыты клавишами Escape, Alt+X или Alt+Backspace
- Могут быть изменены по размеру клавишами Alt+Plus/Minus

**Особенности незакрываемой панели файлового менеджера:**
- Не имеет кнопки `[X]` для закрытия в заголовке панели
- Не может быть закрыта
- Всегда является самой левой (первой) панелью
- Имеет ширину по умолчанию в 30 символов

## Статусная строка

Статусная строка предназначена для отображения дополнительных сведений о работе в активной панели.
В зависимости от типа активной панели в ней отображаются соответствующие данные.

### Индикатор дискового пространства

Справа в статусной строке отображается информация о дисковом пространстве в формате: `УСТРОЙСТВО занято/всегоГб (процент%)` с цветовой кодировкой в зависимости от уровня заполненности:

**Цветовая кодировка:**
- **Зелёный** при заполненности диска < 50%
- **Жёлтый** при заполненности диска 50-75%
- **Красный** при заполненности диска > 75%

**Формат:** `УСТРОЙСТВО занято/всего (процент%)`

Пример: `NVME0N1P2 386/467Гб (83%)`

Название устройства определяется автоматически из файловой системы:
- В Linux: показывает имена разделов как `NVME0N1P2`, `SDA1` и т.д.
- В macOS: показывает идентификаторы дисков
- Отображаемое устройство соответствует разделу, на котором находится текущая директория

## Клавиатурная навигация и управление по меню и панелям

| Комбинация        | Действие                                   |
|-------------------|--------------------------------------------|
| `Alt+M`           | Активировать / деактивировать меню         |
| `Alt+F`           | Открыть панель файлового менеджера         |
| `Alt+T`           | Открыть панель терминала                   |
| `Alt+E`           | Открыть панель редактора нового файла      |
| `Alt+D`           | Открыть панель отладки                     |
| `Alt+P`           | Открыть файл конфигурации в редакторе      |
| `Alt+H`           | Открыть окно помощи                        |
| `Alt+Q`           | Закрыть приложение                         |
| `Escape`          | Закрыть панель / Закрыть модальное окно    |
| `Alt+X`           | Закрыть панель                             |
| `Alt+Delete`      | Закрыть панель                             |
| `Alt+Left`        | Перейти в предыдущую группу панелей (гориз.)|
| `Alt+Right`       | Перейти в следующую группу панелей (гориз.)  |
| `Alt+Up`          | Предыдущая панель в группе (верт.)         |
| `Alt+Down`        | Следующая панель в группе (верт.)          |
| `Alt+PgUp`        | Переместить панель в предыдущую группу     |
| `Alt+PgDn`        | Переместить панель в следующую группу      |
| `Alt+Home`        | Переместить панель в первую группу         |
| `Alt+End`         | Переместить панель в последнюю группу      |
| `Alt+Plus (=)`    | Увеличить ширину активной группы           |
| `Alt+Minus (-)`   | Уменьшить ширину активной группы           |
| `Alt+Backspace`   | Переключить стекирование (объединить/разъединить) |
